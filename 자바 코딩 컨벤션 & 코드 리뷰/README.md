# Java 코딩컨벤션
<br>

### 파일 공통 요건
1. 파일 인코딩
    - 모든 소스, 텍스트 문서 파일의 인코딩은 `UTF-8`로 통일
2. 새줄 문자
    - Unix 형식의 새줄 문자(newline)인 `LF(Line Feed, 0x0A)`을 사용
    - Windows 형식인 `CRLF`가 섞이지 않도록 `편집기`와 `GIT` 설정 등을 확인
    - `Git`을 쓴다면 `.gitattributes` 파일 안에 정책을 선언해서 지정된 새줄 문자로 강제 변환하거나 예외가 될 확장자를 지정할 수 있다.
3. 파일의 마지막 줄
    - 마지막은 새줄 문자 `LF`로 끝나야 한다.
<br>

### 이름 (Naming)
1. 식별자
    - `변수명`, `클래스명`, `메서드명` 등에는 `영어`와 `숫자`만을 사용
2. 한국어 발음대로의 표기 금지(한국어 고유명사는 예외)
3. 대문자로 표기할 약어 명시
    - `기본 정책`으로는 약어의 중간단어를 `소문자`로 표기하고 `프로젝트`별로 모두 `대문자`로 표기할 `약어의 목록`을 명시
4. 패키지 이름은 `소문자`로 구성
5. 클래스&인터페이스
    - 단어의 첫 글자를 대문자로 시작하는 `대문자 카멜표기법(Upper camel case)`을 사용
    - 클래스 이름은 `명사`나 `명사절`로 짓는다.
    - `JUnit` 등으로 작성한 테스트 코드를 담은 클래스는 `Test`을 마지막에 붙인다.
6. 메서드
    - 첫 번째 단어를 소문자로 작성하고, 이어지는 단어의 첫 글자를 대문자로 작성하는 `소문자 카멜표기법(Lower camel case)`를 사용
    - `테스트 클래스`의 메서드 이름에서는 `언더스코어`를 허용
    - 기본적으로는 `동사`로 시작
    - 다른 타입으로 전환하는 메서드나 빌더 패턴을 구현한 클래스의 메서드에는 `전치사` 사용 가능
7. 상수
    - `static final`로 선언되어 있는 필드
    - `대문자`로 작성하며, 복합어는 `언더스코어(_)`를 사용하여 단어를 구분
8. 변수
    - `소문자 카멜표기법(Lower camel case)`을 사용
    - 한 글자로 된 이름 사용 X
    - `반복문의 인덱스`나 `람다 표현식의 파라미터` 등 짧은 범위의 `임시 변수`에는 관례적으로 한 글자 변수명을 사용 가능
<br>

### 선언(Declarations)
1. 소스파일당 1개의 `탑 레벨 클래스`를 담기
2. `static import`에만 와일드 카드 허용(*)
3. `제한자` 선언의 순서
    - `Access Modifier` `abstract` `static` `final` `transient` `volatile` `synchronized` `native` `strictfp`
4. `애너테이션` 선언 후 새줄 사용
5. 한 줄에 한 문장
6. 하나의 `선언문`에는 하나의 `변수`만
7. `배열`에서 대괄호는 `타입` 뒤에 선언
8. `long`형 값의 마지막에 `L`붙이기
9. `특수 문자`의 전용 선언 방식을 활용
<br>

### 들여쓰기 (Indentation)
1. `하드탭` 사용
2. `탭의 크기` == `4개의 스페이스`
3. `블럭` 들여쓰기(`클래스`, `메서드`, `제어문` 등)
<br>

### 중괄호 (Braces)
1. `K&R 스타일`로 중괄호 선언
    - `줄의 마지막`에서 `{`를 열고 블럭을 마친 후에는 `새 줄 삽입 후` `}`를 닫는다.
2. `닫는 중괄호`와 같은 줄에 `else`, `catch`, `finally`, `while` 선언
3. `내용이 없는 블럭`을 선언할 때는 `같은 줄`에서 `중괄호`를 닫는 것을 허용
4. `조건문`, `반복문`이 `한 줄`로 끝더라도 `중괄호`를 활용(`중괄호`의 전후의 `공백` / `제어문` 앞 뒤의 `새줄` 규칙도 함께 고려)
<br>

### 줄바꿈 (Line-wrapping)
1. `package`, `import` 선언문 중간에서는 줄을 바꾸지 않는다.
2. 줄바꿈 허용 위치
    - `extends` 선언 후
    - `implements` 선언 후
    - `throws` 선언 후
    - 시작 소괄호`(` 선언 후
    - `콤마` 후
    - `.` 전
    - `연산자` 전
<br>

### 빈 줄(Blank lines)
1. `package` 선언 후 빈 줄 삽입
2. `import` 구절은 아래와 같은 순서로 `그룹`을 묶어서 선언, 그룹 사이에는 `빈줄`을 삽입, 그룹 내에서는 `알파벳 순`으로 정렬
    1. static imports
    2. java.
    3. javax.
    4. org.
    5. net.
    6. 8 ~ 10을 제외한 com.*
    7. 1 ~ 6, 8 ~ 10을 제외한 패키지에 있는 클래스
    8. com.nhncorp.
    9. com.navercorp.
    10. com.naver.
3. `메소드` 사이에 빈 줄 삽입
<br>

### 공백(Whitespace)
1. 공백으로 줄을 끝내지 않음
2. `대괄호` `뒤`에 `;`이 아닌 `다른 선언`이 올 경우 공백을 `삽입`
3. `중괄호`의 `시작 전`, `종료 후`에 공백 `삽입`
4. `제어문` 키워드와 `여는 소괄호` `사이`에 공백 `삽입`
5. `식별자`와 `여는 소괄호` `사이`에 공백 `미삽입`
6. `타입 캐스팅`에 쓰이는 `소괄호 내부` 공백 `미삽입`
7. `제네릭스 산괄호 <>`의 공백 규칙
    - 제네릭스 `메서드` 선언 일 때만 `<` `앞`에 공백을 `삽입`
    - `<` `뒤`에 공백 `미삽입`
    - `>` `앞`에 공백 `미삽입`
    - 아래의 경우를 제외하고는 `>` `뒤`에 공백을 `삽입`
        - `메서드 레퍼런스`가 바로 이어질 때
        - `여는 소괄호`가 바로 이어질 때
        - `메서드 이름`이 바로 이어질 때
8. `콤마` `구분자` `세미콜론`의 `뒤`에만 공백 `삽입`
9. `콜론 :`의 `앞` `뒤`에 공백 `삽입`
10. `이항` `삼항` 연산자의 `앞` `뒤`에 공백 `삽입`
11. `단항 연산자`와 `연산 대상` `사이`에 공백을 `미삽입`
12. `주석문` 기호 `전` `후`의 공백 `삽입`
<br>

# 효과적인 코드리뷰
<br>

### 리뷰어 & 리뷰이
1. `리뷰어` : 다른 사람이 작성한 코드를 리뷰하는 사람들
2. `리뷰이` : 본인이 작성한 코드를 다른 사람들에게 리뷰 받는 사람
<br>

### 코드 리뷰
- 한 개발자가 코드를 작성하면 다른 개발자가 정해진 방법으로 `피드백`을 주고받는 과정
- 본인이 발견하지 못한 `실수`를 다른 사람이 발견
    - 코드의 `부작용`(Side effect)과 `오류`를 조기에 대응
    - 개발 내 정해진 `컨벤션 규칙`을 유지하고 `기술 부채`를 줄일 수 있음
- 문제 해결을 위한 `기술 구현 방법론`에 대해 공유도 함
- 코드 리뷰 프로세스는 팀의 규모, 업무 진행 방식, 회사의 특성에 따라 `다양한 방식`으로 진행
    - 그 회사의 `개발 문화`를 이해할 수 있는 `힌트`가 되기도 함
<br>

### 리뷰의 5가지 규칙
1. 왜 개선이 필요한지 `이유`를 충분히 설명한다.
2. 답을 알려주기보다는 스스로 `고민`하고 개선 방법을 선택할 수 있게 한다.
    - 답을 알려주는 리뷰는 주어진 리뷰의 코드만 변경할 뿐 스스로 고민하는 시간은 줄어든다.
    - `키워드`를 알려줌으로써 어떤 식으로 검색해야 하는지 방법을 제시한다.
3. 코드를 `클린`하게 유지하고, `일관`되게 구현하도록 안내한다.
    - 일관된 코드인지 확인하기 위해서는 `코드 전체`를 봐야 한다.
    - 프로젝트에서 정한 `컨벤션 규칙`을 지키면서 코드를 작성하는 게 좋다.
4. 리뷰 과정이 숙제검사가 아닌 `학습과정`으로 느낄 수 있게 리뷰한다.
    - 리뷰이가 코드리뷰를 학습 일부로 받아들이기 위해 `피드백`을 `자주` 주고받고, `성장`하고 있다는 `생각`을 심어준다.
5. 리뷰를 위한 리뷰 X, 피드백 할 게 없으면 `칭찬`을 한다.
<br>

### 비동기 커뮤니케이션
- `동기 커뮤니케이션` : 실시간 커뮤니케이션
    - 전화, 회의
- `비동기 커뮤니케이션` : 요청에 실시간으로 응답하지 않거나, 응답을 요구하지 않는 커뮤니케이션
    - Jira, Slack, 메일, GitHub Pull Request(PR)
- 비동기 커뮤니케이션 `장점`
    - 개인의 업무시간을 존중하고 커뮤니케이션 비용을 줄일 수 있음
<br>

### 작은 PR
- `작은 PR` : 개발하고자 하는 기능을 최소 단위로 분리한 코드
- `긴 PR`은 코드를 이해하는 시간이 길어지고, 리뷰는 목표한 일정에 완료되지 못하고, 병목이 되기 쉽다.
- 작은 PR `규칙`을 만든다.(예 : 1개의 PR은 1,000  Line을 넘을 수 없다.)
- PullRequest, Commit의 단위는 `최소의 기능 단위`로 세분화한다.
<br>

### 저 문맥(Low Context) 커뮤니케이션을 지향
- 내가 알고 있는 것을 상대방도 알고 있을 것이라는 가정을 하지 않는다.
- 추가적인 커뮤니케이션 또는 미스 커뮤니케이션으로 발생하는 비용을 매우 비싼 비용이라는 문제의식을 가진다.
- 리뷰 요청자는 리뷰어가 사전 지식이 없는 상태에서 리뷰에 참여한다는 가정으로 모든 문맥을 제공한다.
- 리뷰 요청자의 준비물
    - 제품 기능 기획
    - 기술적인 구현 계획
    - 현재 PR에서의 변경점
    - 예상 / 구현된 디자인
    - 어떤 내용들을 테스트했는지 / 해야 하는지 목록
    - 복잡한 유저 액션이 포함된 PR의 경우 GIF를 활용
<br>